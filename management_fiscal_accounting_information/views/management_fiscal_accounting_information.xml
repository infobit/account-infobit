<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_management_fiscal_accounting_information_form" model="ir.ui.view">
        <field name="name">management.fiscal.accounting.information.form</field>
        <field name="model">management.fiscal.accounting.information</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Informaci贸n fiscal y contable">
                          <header>
                               <button name="btn_taxes_iva_summary" type="object" class="oe_highlight" attrs="{'invisible': [('state', '=', 'calculated')]}" string="Resumen de IVA"/>
                               <button name="btn_taxes_summary" type="object" class="oe_highlight" attrs="{'invisible': [('state', '=', 'calculated')]}" string="Resumen de impuestos"/>
                               <button class="oe_inline oe_stat_button2" type="action" name="%(management_fiscal_accounting_information.act_summary_taxes)d" 
                               attrs="{'invisible': ['|', ('state', '=', 'draft'), ('type', '=', 'd')]}" string="Ver resumen de ivas o de impuestos">
                               </button>
                               <button name="btn_taxes_iva_details" type="object" class="oe_highlight" attrs="{'invisible': [('state', '=', 'calculated')]}" string="Detalle de IVA - Libro registro IVA"/>
                               <button name="btn_detail_taxes" type="object" class="oe_highlight" attrs="{'invisible': [('state', '=', 'calculated')]}" string="Detalle de impuestos"/>
                               <button class="oe_inline oe_stat_button" type="action" name="%(management_fiscal_accounting_information.act_details_summary_taxes)d" 
                               attrs="{'invisible': ['|', ('state', '=', 'draft'), ('type', '=', 's')]}" string="Ver detalle de ivas o impuestos">
                               </button>
                               btn_taxes_iva_details
                               <field name="state" widget="statusbar" nolabel="1" statusbar_visible="draft,calculated"/>
                          </header>
                          <group>
                            <group>
                               <field name="name" readonly="True"/>
                               <field name="year"/>
                               <field name="calculation_date" readonly="True"/>
                               <field name="type"/>
                            </group>
                            <group>
                               <field name="period_type"/>
                               <field name="date_start"/>
                               <field name="date_end"/>
                            </group>
                          </group>
                          <notebook tabpos="up" colspan="4">
                           <page string="Taxes" name="taxes">
                            <group>
                              <field name="tax_ids" nolabel="1"/>
                            </group>
                           </page>
                           <page string="Journals" name="journals">
                            <group> 
                              <field name="journal_ids" nolabel="1"/>
                            </group>
                           </page>
                           <page string="Partners" name="partners">
                            <group>
                              <field name="partner_ids" nolabel="1"/>
                            </group>
                           </page>
                           <!--<page string="Details Taxes" name="taxesd">
                            <group>
                              <field name="estructure_tax_line_ids" nolabel="1"/>
                            </group>
                           </page>-->
                          </notebook>
            </form>
         </field>
    </record>

    <record id="view_management_fiscal_accounting_information_tree" model="ir.ui.view">
     <field name="name">management.fiscal.accounting.information.tree</field>
     <field name="model">management.fiscal.accounting.information</field>
     <field name="type">tree</field>
     <field name="arch" type="xml">
      <tree string="Informaci贸n fiscal y contable">
           <field name="state"/>
           <field name="name"/>
           <field name="year"/>
           <field name="period_type"/>
           <field name="date_start"/>
           <field name="date_end"/>
           <field name="calculation_date"/>
      </tree>
     </field>
    </record>

    <record model="ir.actions.act_window" id="action_management_fiscal_accounting_information">
                <field name="name">Informacion fiscal y contable</field>
                <field name="res_model">management.fiscal.accounting.information</field>
                <field name="view_type">form</field>
                <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_management_fiscal_accounting_information_initial"
      parent="account.menu_finance"
      name="Informaci贸n fiscal y contable"/>

    <menuitem id="menu_management_fiscal_accounting_information"
      parent="menu_management_fiscal_accounting_information_initial"
      action="action_management_fiscal_accounting_information"
      name="Generar informaci贸n fiscal y contable"/>
</odoo>
